/*! For license information please see main.e5ee5d167c04c7e8fc03.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatetblazer("main",{"./app/components/Canvas/Home/index.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var i=s("./node_modules/ogl/src/core/Transform.js"),h=s("./node_modules/ogl/src/extras/Plane.js"),r=s("./node_modules/gsap/index.js"),l=s("./node_modules/lodash/map.js"),o=s.n(l),n=s("./app/components/Canvas/Home/Media.js");class a{constructor({gl:t,scene:e,sizes:s}){this.gl=t,this.scene=e,this.sizes=s,this.group=new i.Transform,this.galleryElement=document.querySelector(".home__gallery"),this.mediaElements=document.querySelectorAll(".home__gallery__media__image"),this.x={current:0,target:0,ease:.1},this.y={current:0,target:0,ease:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.createGeometry(),this.createGallery(),this.group.setParent(e),this.show()}createGeometry(){this.geometry=new h.Plane(this.gl,{widthSegments:20,heightSegments:16})}createGallery(){this.medias=o()(this.mediaElements,((t,e)=>new n.default({element:t,geometry:this.geometry,index:e,gl:this.gl,scene:this.group,sizes:this.sizes})))}show(){o()(this.medias,(t=>t.show()))}hide(){o()(this.medias,(t=>t.hide()))}onResize(t){this.sizes=t.sizes,this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.gallerySizes={width:this.galleryBounds.width/window.innerWidth*this.sizes.width,height:this.galleryBounds.height/window.innerHeight*this.sizes.height},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,o()(this.medias,(e=>e.onResize(t,this.scroll)))}onTouchDown({x:t,y:e}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:t,y:e}){const s=t.start-t.end,i=e.start-e.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:t,y:e}){}onWheel({pixelX:t,pixelY:e}){this.x.target+=t,this.y.target+=e}update(){if(!this.galleryBounds)return;const t=this.x.target-this.x.current,e=this.y.target-this.y.current,s=.01*Math.sqrt(t*t+e*e);this.x.current=r.default.utils.interpolate(this.x.current,this.x.target,this.x.ease),this.y.current=r.default.utils.interpolate(this.y.current,this.y.target,this.y.ease),this.scroll.x<this.x.current?this.x.direction="right":this.x.direction="left",this.scroll.y<this.y.current?this.y.direction="up":this.y.direction="down",this.scroll.x=this.x.current,this.scroll.y=this.y.current,o()(this.medias,((t,e)=>{const i=t.mesh.scale.x/2,h=t.mesh.scale.y/2;if("left"===this.x.direction){t.mesh.position.x+i<-this.sizes.width/2&&(t.extra.x+=this.gallerySizes.width,t.mesh.rotation.z=r.default.utils.random(.02*-Math.PI,.02*Math.PI))}else if("right"===this.x.direction){t.mesh.position.x-i>this.sizes.width/2&&(t.extra.x-=this.gallerySizes.width,t.mesh.rotation.z=r.default.utils.random(.02*-Math.PI,.02*Math.PI))}if("up"===this.y.direction){t.mesh.position.y+h/2<-this.sizes.height/2&&(t.extra.y+=this.gallerySizes.height,t.mesh.rotation.z=r.default.utils.random(.02*-Math.PI,.02*Math.PI))}else if("down"===this.y.direction){t.mesh.position.y-h/2>this.sizes.height/2&&(t.extra.y-=this.gallerySizes.height,t.mesh.rotation.z=r.default.utils.random(.02*-Math.PI,.02*Math.PI))}t.update(this.scroll,s)}))}destroy(){this.scene.removeChild(this.group)}}}},(function(t){t.h=()=>"42aef820d6dd420c2111"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUQsVUFBdUIsQ0FDN0I3QixFQUFNK0IsS0FBS0csU0FBU3RELEVBQUlrRCxFQUMxQjFELEtBQUtELE1BQU1vQyxNQUFRLElBQ3pCUCxFQUFNbUMsTUFBTXZELEdBQUtSLEtBQUtrQyxhQUFhQyxNQUNuQ1AsRUFBTStCLEtBQUtLLFNBQVNDLEVBQUlULEVBQUFBLFFBQUFBLE1BQUFBLE9BQTZCLEtBQVZGLEtBQUtZLEdBQXFCLElBQVZaLEtBQUtZLElBRXBFLENBR0EsR0FBeUIsT0FBckJsRSxLQUFLWSxFQUFFNkMsVUFBb0IsQ0FDbkI3QixFQUFNK0IsS0FBS0csU0FBU2xELEVBQUlpRCxFQUFTLEdBQ2xDN0QsS0FBS0QsTUFBTXVDLE9BQVMsSUFDM0JWLEVBQU1tQyxNQUFNbkQsR0FBS1osS0FBS2tDLGFBQWFJLE9BQ25DVixFQUFNK0IsS0FBS0ssU0FBU0MsRUFBSVQsRUFBQUEsUUFBQUEsTUFBQUEsT0FBNkIsS0FBVkYsS0FBS1ksR0FBcUIsSUFBVlosS0FBS1ksSUFFcEUsTUFBTyxHQUF5QixTQUFyQmxFLEtBQUtZLEVBQUU2QyxVQUFzQixDQUM1QjdCLEVBQU0rQixLQUFLRyxTQUFTbEQsRUFBSWlELEVBQVMsRUFDbkM3RCxLQUFLRCxNQUFNdUMsT0FBUyxJQUMxQlYsRUFBTW1DLE1BQU1uRCxHQUFLWixLQUFLa0MsYUFBYUksT0FDbkNWLEVBQU0rQixLQUFLSyxTQUFTQyxFQUFJVCxFQUFBQSxRQUFBQSxNQUFBQSxPQUE2QixLQUFWRixLQUFLWSxHQUFxQixJQUFWWixLQUFLWSxJQUVwRSxDQUdBdEMsRUFBTXNCLE9BQU9sRCxLQUFLYyxPQUFRdUMsRUFBTSxHQUVwQyxDQU1BYyxVQUNFbkUsS0FBS0YsTUFBTXNFLFlBQVlwRSxLQUFLQyxNQUM5QixrQkNqTUZvRSxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGJsYXplci8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9Ib21lL2luZGV4LmpzIiwid2VicGFjazovL3RibGF6ZXIvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBsYW5lLCBUcmFuc2Zvcm0gfSBmcm9tICdvZ2wnXG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xuaW1wb3J0IG1hcCBmcm9tICdsb2Rhc2gvbWFwJ1xuXG5pbXBvcnQgTWVkaWEgZnJvbSAnLi9NZWRpYSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSG9tZSB7XG4gIGNvbnN0cnVjdG9yKHsgZ2wsIHNjZW5lLCBzaXplcyB9KSB7XG4gICAgdGhpcy5nbCA9IGdsXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lXG4gICAgdGhpcy5zaXplcyA9IHNpemVzXG5cbiAgICB0aGlzLmdyb3VwID0gbmV3IFRyYW5zZm9ybSgpXG5cbiAgICB0aGlzLmdhbGxlcnlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvbWVfX2dhbGxlcnknKVxuICAgIHRoaXMubWVkaWFFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ob21lX19nYWxsZXJ5X19tZWRpYV9faW1hZ2UnKVxuXG4gICAgdGhpcy54ID0ge1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIGVhc2U6IDAuMSxcbiAgICB9XG5cbiAgICB0aGlzLnkgPSB7XG4gICAgICBjdXJyZW50OiAwLFxuICAgICAgdGFyZ2V0OiAwLFxuICAgICAgZWFzZTogMC4xLFxuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsQ3VycmVudCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgIH1cbiAgICB0aGlzLnNjcm9sbCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBXZWJHTCBlbGVtZW50c1xuICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKVxuICAgIHRoaXMuY3JlYXRlR2FsbGVyeSgpXG4gICAgdGhpcy5ncm91cC5zZXRQYXJlbnQoc2NlbmUpXG5cbiAgICB0aGlzLnNob3coKVxuICB9XG5cbiAgY3JlYXRlR2VvbWV0cnkoKSB7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBQbGFuZSh0aGlzLmdsLCB7XG4gICAgICB3aWR0aFNlZ21lbnRzOiAyMCxcbiAgICAgIGhlaWdodFNlZ21lbnRzOiAxNixcbiAgICB9KVxuICB9XG5cbiAgY3JlYXRlR2FsbGVyeSgpIHtcbiAgICB0aGlzLm1lZGlhcyA9IG1hcCh0aGlzLm1lZGlhRWxlbWVudHMsIChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBNZWRpYSh7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxuICAgICAgICBpbmRleCxcbiAgICAgICAgZ2w6IHRoaXMuZ2wsXG4gICAgICAgIHNjZW5lOiB0aGlzLmdyb3VwLCAvLyBkaXNwbGF5IHRoZSBnZW9tZXRyeSBpbiB0aGUgc2NlbmVcbiAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXMsXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tXG4gICAtLS0tLS0tLS0tLS0gQU5JTUFUSU9OU1xuICAgLS0tLS0tLS0tLS0tLS0gKi9cblxuICAvLyBpbWFnZXMgZmFkZSBpbiBhbmQgb3V0IGVmZmVjdFxuICBzaG93KCkge1xuICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhKSA9PiBtZWRpYS5zaG93KCkpXG4gIH1cblxuICBoaWRlKCkge1xuICAgIG1hcCh0aGlzLm1lZGlhcywgKG1lZGlhKSA9PiBtZWRpYS5oaWRlKCkpXG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tXG4gICAtLS0tLS0tLS0tLS0gRVZFTlRTXG4gICAtLS0tLS0tLS0tLS0tLSAqL1xuXG4gIG9uUmVzaXplKGV2ZW50KSB7XG4gICAgdGhpcy5zaXplcyA9IGV2ZW50LnNpemVzXG5cbiAgICB0aGlzLmdhbGxlcnlCb3VuZHMgPSB0aGlzLmdhbGxlcnlFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIC8vIGNyZWF0ZSBnYWxsZXJ5IGJvdW5kc1xuICAgIHRoaXMuZ2FsbGVyeVNpemVzID0ge1xuICAgICAgd2lkdGg6ICh0aGlzLmdhbGxlcnlCb3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCkgKiB0aGlzLnNpemVzLndpZHRoLCAvLyBnZXQgZ2FsbGVyeSBuZXQgd2lkdGggaW4gd2ViZ2wgZW52aXJvbm1lbnRcbiAgICAgIGhlaWdodDogKHRoaXMuZ2FsbGVyeUJvdW5kcy5oZWlnaHQgLyB3aW5kb3cuaW5uZXJIZWlnaHQpICogdGhpcy5zaXplcy5oZWlnaHQsXG4gICAgfVxuXG4gICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC50YXJnZXQgPSAwXG4gICAgdGhpcy5zY3JvbGwueSA9IHRoaXMueS50YXJnZXQgPSAwXG5cbiAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSkgPT4gbWVkaWEub25SZXNpemUoZXZlbnQsIHRoaXMuc2Nyb2xsKSlcbiAgfVxuXG4gIG9uVG91Y2hEb3duKHsgeCwgeSB9KSB7XG4gICAgdGhpcy5zY3JvbGxDdXJyZW50LnggPSB0aGlzLnNjcm9sbC54XG4gICAgdGhpcy5zY3JvbGxDdXJyZW50LnkgPSB0aGlzLnNjcm9sbC55XG4gIH1cblxuICBvblRvdWNoTW92ZSh7IHgsIHkgfSkge1xuICAgIGNvbnN0IHhEaXN0YW5jZSA9IHguc3RhcnQgLSB4LmVuZFxuICAgIGNvbnN0IHlEaXN0YW5jZSA9IHkuc3RhcnQgLSB5LmVuZFxuXG4gICAgdGhpcy54LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC54IC0geERpc3RhbmNlXG4gICAgdGhpcy55LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC55IC0geURpc3RhbmNlXG4gIH1cblxuICBvblRvdWNoVXAoeyB4LCB5IH0pIHt9XG5cbiAgb25XaGVlbCh7IHBpeGVsWCwgcGl4ZWxZIH0pIHtcbiAgICB0aGlzLngudGFyZ2V0ICs9IHBpeGVsWFxuICAgIHRoaXMueS50YXJnZXQgKz0gcGl4ZWxZXG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tXG4gICAtLS0tLS0tLS0tLS0gTE9PUFMgJiBGUkFNRVNcbiAgIC0tLS0tLS0tLS0tLS0tICovXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuZ2FsbGVyeUJvdW5kcykgcmV0dXJuXG5cbiAgICAvLyB2ZXJ0ZXggbW92aW5nIGRpc3RhbmNlIGNhbGN1bGF0aW9uXG4gICAgY29uc3QgYSA9IHRoaXMueC50YXJnZXQgLSB0aGlzLnguY3VycmVudFxuICAgIGNvbnN0IGIgPSB0aGlzLnkudGFyZ2V0IC0gdGhpcy55LmN1cnJlbnRcbiAgICBjb25zdCBzcGVlZCA9IE1hdGguc3FydChhICogYSArIGIgKiBiKSAqIDAuMDFcblxuICAgIC8vIHNtb290aCBlZmZlY3RcbiAgICB0aGlzLnguY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy54LmN1cnJlbnQsIHRoaXMueC50YXJnZXQsIHRoaXMueC5lYXNlKVxuICAgIHRoaXMueS5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnkuY3VycmVudCwgdGhpcy55LnRhcmdldCwgdGhpcy55LmVhc2UpXG5cbiAgICBpZiAodGhpcy5zY3JvbGwueCA8IHRoaXMueC5jdXJyZW50KSB7XG4gICAgICB0aGlzLnguZGlyZWN0aW9uID0gJ3JpZ2h0J1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnguZGlyZWN0aW9uID0gJ2xlZnQnXG4gICAgfVxuICAgIGlmICh0aGlzLnNjcm9sbC55IDwgdGhpcy55LmN1cnJlbnQpIHtcbiAgICAgIHRoaXMueS5kaXJlY3Rpb24gPSAndXAnXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMueS5kaXJlY3Rpb24gPSAnZG93bidcbiAgICB9XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnguZGlyZWN0aW9uKTtcblxuICAgIHRoaXMuc2Nyb2xsLnggPSB0aGlzLnguY3VycmVudFxuICAgIHRoaXMuc2Nyb2xsLnkgPSB0aGlzLnkuY3VycmVudFxuXG4gICAgbWFwKHRoaXMubWVkaWFzLCAobWVkaWEsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzY2FsZVggPSBtZWRpYS5tZXNoLnNjYWxlLnggLyAyXG4gICAgICBjb25zdCBzY2FsZVkgPSBtZWRpYS5tZXNoLnNjYWxlLnkgLyAyXG5cbiAgICAgIC8vIGhvcml6b250YWwgc2Nyb2xsXG4gICAgICBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIGNvbnN0IHggPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnggKyBzY2FsZVggLy9jaGVjayB0aGUgcmlnaHQgZWRnZSBvZiB0aGUgaW1hZ2VcbiAgICAgICAgaWYgKHggPCAtdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcbiAgICAgICAgICBtZWRpYS5leHRyYS54ICs9IHRoaXMuZ2FsbGVyeVNpemVzLndpZHRoIC8vIG1vdmUgdG8gdGhlIHJpZ2h0IHNpZGVcbiAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDIsIE1hdGguUEkgKiAwLjAyKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMueC5kaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWCAvL2NoZWNrIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIGltYWdlXG4gICAgICAgIGlmICh4ID4gdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcbiAgICAgICAgICBtZWRpYS5leHRyYS54IC09IHRoaXMuZ2FsbGVyeVNpemVzLndpZHRoIC8vIG1vdmUgdG8gdGhlIGxlZnQgc2lkZVxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMiwgTWF0aC5QSSAqIDAuMDIpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gdmVydGljYWwgc2Nyb2xsXG4gICAgICBpZiAodGhpcy55LmRpcmVjdGlvbiA9PT0gJ3VwJykge1xuICAgICAgICBjb25zdCB5ID0gbWVkaWEubWVzaC5wb3NpdGlvbi55ICsgc2NhbGVZIC8gMiAvL2NoZWNrIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgaW1hZ2VcbiAgICAgICAgaWYgKHkgPCAtdGhpcy5zaXplcy5oZWlnaHQgLyAyKSB7XG4gICAgICAgICAgbWVkaWEuZXh0cmEueSArPSB0aGlzLmdhbGxlcnlTaXplcy5oZWlnaHRcbiAgICAgICAgICBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDIsIE1hdGguUEkgKiAwLjAyKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMueS5kaXJlY3Rpb24gPT09ICdkb3duJykge1xuICAgICAgICBjb25zdCB5ID0gbWVkaWEubWVzaC5wb3NpdGlvbi55IC0gc2NhbGVZIC8gMiAvL2NoZWNrIHRoZSB0b3AgZWRnZSBvZiB0aGUgaW1hZ2VcbiAgICAgICAgaWYgKHkgPiB0aGlzLnNpemVzLmhlaWdodCAvIDIpIHtcbiAgICAgICAgICBtZWRpYS5leHRyYS55IC09IHRoaXMuZ2FsbGVyeVNpemVzLmhlaWdodFxuICAgICAgICAgIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMiwgTWF0aC5QSSAqIDAuMDIpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gdXBkYXRlIHNjcm9sbCBwb3NpdGlvblxuICAgICAgbWVkaWEudXBkYXRlKHRoaXMuc2Nyb2xsLCBzcGVlZClcbiAgICB9KVxuICB9XG5cbiAgLyogLS0tLS0tLS0tLS0tLVxuICAgLS0tLS0tLS0tLS0tIERFU1RST1lcbiAgIC0tLS0tLS0tLS0tLS0tICovXG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnNjZW5lLnJlbW92ZUNoaWxkKHRoaXMuZ3JvdXApXG4gIH1cbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjQyYWVmODIwZDZkZDQyMGMyMTExXCIpIl0sIm5hbWVzIjpbIkhvbWUiLCJjb25zdHJ1Y3RvciIsImdsIiwic2NlbmUiLCJzaXplcyIsInRoaXMiLCJncm91cCIsIlRyYW5zZm9ybSIsImdhbGxlcnlFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVkaWFFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ4IiwiY3VycmVudCIsInRhcmdldCIsImVhc2UiLCJ5Iiwic2Nyb2xsQ3VycmVudCIsInNjcm9sbCIsImNyZWF0ZUdlb21ldHJ5IiwiY3JlYXRlR2FsbGVyeSIsInNldFBhcmVudCIsInNob3ciLCJnZW9tZXRyeSIsIlBsYW5lIiwid2lkdGhTZWdtZW50cyIsImhlaWdodFNlZ21lbnRzIiwibWVkaWFzIiwibWFwIiwiZWxlbWVudCIsImluZGV4IiwiTWVkaWEiLCJtZWRpYSIsImhpZGUiLCJvblJlc2l6ZSIsImV2ZW50IiwiZ2FsbGVyeUJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdhbGxlcnlTaXplcyIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0Iiwib25Ub3VjaERvd24iLCJvblRvdWNoTW92ZSIsInhEaXN0YW5jZSIsInN0YXJ0IiwiZW5kIiwieURpc3RhbmNlIiwib25Ub3VjaFVwIiwib25XaGVlbCIsInBpeGVsWCIsInBpeGVsWSIsInVwZGF0ZSIsImEiLCJiIiwic3BlZWQiLCJNYXRoIiwic3FydCIsIkdTQVAiLCJkaXJlY3Rpb24iLCJzY2FsZVgiLCJtZXNoIiwic2NhbGUiLCJzY2FsZVkiLCJwb3NpdGlvbiIsImV4dHJhIiwicm90YXRpb24iLCJ6IiwiUEkiLCJkZXN0cm95IiwicmVtb3ZlQ2hpbGQiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=