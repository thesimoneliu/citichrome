/*! For license information please see main.8ab8fbf0f0bfc84e4e6b.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatetblazer("main",{"./app/index.js":(e,t,n)=>{n.r(t);var s=n("./node_modules/lodash/each.js"),a=n.n(s),i=n("./node_modules/normalize-wheel/index.js"),o=n.n(i),h=(n("./app/classes/Detection.js"),n("./app/components/Canvas/index.js")),d=n("./app/components/Navigation.js"),c=n("./app/components/Preloader.js"),p=n("./app/pages/About/index.js"),r=n("./app/pages/Collections/index.js"),l=n("./app/pages/Detail/index.js"),u=n("./app/pages/Home/index.js");new class{constructor(){this.createContent(),this.createCanvas(),this.createPreloader(),this.createNavigation(),this.createPages(),this.onResize(),this.update(),this.addEventListeners(),this.addLinkListeners()}createNavigation(){this.navigation=new d.default({template:this.template})}createPreloader(){this.preloader=new c.default({canvas:this.canvas}),this.preloader.once("completed",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new h.default({template:this.template})}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new p.default,collections:new r.default,detail:new l.default,home:new u.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.onResize(),this.canvas.onPreloaded(),this.page.show()}onPopState(){this.onChange(window.location.pathname)}async onChange({url:e,push:t=!0}){this.canvas.onChangeInit(),await this.page.hide();const n=await window.fetch(e);if(200===n.status){const s=await n.text(),a=document.createElement("div");t&&window.history.pushState({},"",e),a.innerHTML=s;const i=a.querySelector(".content");this.template=i.getAttribute("data-template"),this.navigation.onChange(this.template),this.content.setAttribute("data-template",this.template),this.content.innerHTML=i.innerHTML,this.canvas.onChange(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.log("Error")}onResize(){this.page&&this.page.onResize&&this.page.onResize(),window.requestAnimationFrame((e=>{this.canvas&&this.canvas.onResize&&this.canvas.onResize()}))}onWheel(e){const t=o()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}addEventListeners(){window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");a()(e,(e=>{e.onclick=t=>{t.preventDefault();const{href:n}=e;this.onChange({url:n})}}))}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update(this.page.scroll),this.frame=window.requestAnimationFrame(this.update.bind(this))}}}},(function(e){e.h=()=>"e8cb00208991f947c07a"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UixPQUFPUCxLQUFLaUMsS0FBSzRDLFFBRy9CN0UsS0FBSzhFLE1BQVF4QyxPQUFPc0Isc0JBQXNCNUQsS0FBS08sT0FBT1csS0FBS2xCLE1BQzdELGtCQ2xORitFLEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YmxhemVyLy4vYXBwL2luZGV4LmpzIiwid2VicGFjazovL3RibGF6ZXIvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJ1xuaW1wb3J0IE5vcm1hbGl6ZVdoZWVsIGZyb20gJ25vcm1hbGl6ZS13aGVlbCdcblxuaW1wb3J0IERldGVjdGlvbiBmcm9tICdjbGFzc2VzL0RldGVjdGlvbidcbi8vIGltcG9ydCBXZWJHTCBDYW52YXNcbmltcG9ydCBDYW52YXMgZnJvbSAnY29tcG9uZW50cy9DYW52YXMnXG4vLyBpbXBvcnQgY29tcG9uZW50c1xuaW1wb3J0IE5hdmlnYXRpb24gZnJvbSAnY29tcG9uZW50cy9OYXZpZ2F0aW9uJ1xuaW1wb3J0IFByZWxvYWRlciBmcm9tICdjb21wb25lbnRzL1ByZWxvYWRlcidcbi8vIGltcG9ydCBwYWdlc1xuaW1wb3J0IEFib3V0IGZyb20gJ3BhZ2VzL0Fib3V0J1xuaW1wb3J0IENvbGxlY3Rpb25zIGZyb20gJ3BhZ2VzL0NvbGxlY3Rpb25zJ1xuaW1wb3J0IERldGFpbCBmcm9tICdwYWdlcy9EZXRhaWwnXG5pbXBvcnQgSG9tZSBmcm9tICdwYWdlcy9Ib21lJ1xuXG5jbGFzcyBBcHAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNyZWF0ZUNvbnRlbnQoKVxuXG4gICAgdGhpcy5jcmVhdGVDYW52YXMoKVxuICAgIHRoaXMuY3JlYXRlUHJlbG9hZGVyKClcbiAgICB0aGlzLmNyZWF0ZU5hdmlnYXRpb24oKVxuICAgIHRoaXMuY3JlYXRlUGFnZXMoKVxuXG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLnVwZGF0ZSgpXG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgICB0aGlzLmFkZExpbmtMaXN0ZW5lcnMoKVxuICB9XG5cbiAgY3JlYXRlTmF2aWdhdGlvbigpIHtcbiAgICB0aGlzLm5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbih7XG4gICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZSxcbiAgICB9KVxuICB9XG5cbiAgY3JlYXRlUHJlbG9hZGVyKCkge1xuICAgIHRoaXMucHJlbG9hZGVyID0gbmV3IFByZWxvYWRlcih7IGNhbnZhczogdGhpcy5jYW52YXMgfSlcbiAgICB0aGlzLnByZWxvYWRlci5vbmNlKCdjb21wbGV0ZWQnLCB0aGlzLm9uUHJlbG9hZGVkLmJpbmQodGhpcykpXG4gIH1cblxuICBjcmVhdGVDYW52YXMoKSB7XG4gICAgdGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKHsgdGVtcGxhdGU6IHRoaXMudGVtcGxhdGUgfSlcbiAgfVxuXG4gIGNyZWF0ZUNvbnRlbnQoKSB7XG4gICAgdGhpcy5jb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKVxuICAgIHRoaXMudGVtcGxhdGUgPSB0aGlzLmNvbnRlbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJylcbiAgfVxuXG4gIGNyZWF0ZVBhZ2VzKCkge1xuICAgIHRoaXMucGFnZXMgPSB7XG4gICAgICBhYm91dDogbmV3IEFib3V0KCksXG4gICAgICBjb2xsZWN0aW9uczogbmV3IENvbGxlY3Rpb25zKCksXG4gICAgICBkZXRhaWw6IG5ldyBEZXRhaWwoKSxcbiAgICAgIGhvbWU6IG5ldyBIb21lKCksXG4gICAgfVxuXG4gICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXVxuICAgIHRoaXMucGFnZS5jcmVhdGUoKVxuICAgIC8vY29uc29sZS5sb2codGhpcy5wYWdlKTtcbiAgICAvLyB0aGlzLnBhZ2Uuc2hvdygpO1xuICAgIC8vIHRoaXMucGFnZS5oaWRlKCk7XG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tXG4gICAtLS0tLS0tLS0tLS0gRVZFTlRTXG4gICAtLS0tLS0tLS0tLS0tLSAqL1xuXG4gIG9uUHJlbG9hZGVkKCkge1xuICAgIHRoaXMub25SZXNpemUoKVxuICAgIHRoaXMuY2FudmFzLm9uUHJlbG9hZGVkKClcbiAgICB0aGlzLnBhZ2Uuc2hvdygpXG4gIH1cblxuICBvblBvcFN0YXRlKCkge1xuICAgIHVybDogdGhpcy5vbkNoYW5nZSh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gICAgcHVzaDogZmFsc2VcbiAgfVxuXG4gIGFzeW5jIG9uQ2hhbmdlKHsgdXJsLCBwdXNoID0gdHJ1ZSB9KSB7XG4gICAgdGhpcy5jYW52YXMub25DaGFuZ2VJbml0KClcblxuICAgIGF3YWl0IHRoaXMucGFnZS5oaWRlKClcblxuICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKVxuXG4gICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXF1ZXN0LnRleHQoKVxuICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgLy9hIGZha2UgZGl2IHRvIGhvbGQgdGhlIGN1cnJlbnQgcGFnZSBjb250ZW50XG5cbiAgICAgIGlmIChwdXNoKSB7XG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIHVybClcbiAgICAgIH1cblxuICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWxcblxuICAgICAgY29uc3QgZGl2Q29udGVudCA9IGRpdi5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpXG5cbiAgICAgIHRoaXMudGVtcGxhdGUgPSBkaXZDb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpXG5cbiAgICAgIC8vIHBhZ2UgdHJhbnNpdGlvbiBzZXR0aW5nc1xuICAgICAgdGhpcy5uYXZpZ2F0aW9uLm9uQ2hhbmdlKHRoaXMudGVtcGxhdGUpXG4gICAgICB0aGlzLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSlcbiAgICAgIHRoaXMuY29udGVudC5pbm5lckhUTUwgPSBkaXZDb250ZW50LmlubmVySFRNTFxuICAgICAgdGhpcy5jYW52YXMub25DaGFuZ2UodGhpcy50ZW1wbGF0ZSlcblxuICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXVxuICAgICAgdGhpcy5wYWdlLmNyZWF0ZSgpXG5cbiAgICAgIHRoaXMub25SZXNpemUoKVxuICAgICAgdGhpcy5wYWdlLnNob3coKVxuXG4gICAgICB0aGlzLmFkZExpbmtMaXN0ZW5lcnMoKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3InKVxuICAgIH1cbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uUmVzaXplKSB7XG4gICAgICB0aGlzLnBhZ2Uub25SZXNpemUoKVxuICAgIH1cblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKF8pID0+IHtcbiAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblJlc2l6ZSkge1xuICAgICAgICB0aGlzLmNhbnZhcy5vblJlc2l6ZSgpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIG9uV2hlZWwoZXZlbnQpIHtcbiAgICAvLyBlbnRyeSBwb2ludFxuICAgIGNvbnN0IG5vcm1hbGl6ZVdoZWVsID0gTm9ybWFsaXplV2hlZWwoZXZlbnQpIC8vIHNtb290aCBzY3JvbGxcblxuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vbldoZWVsKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vbldoZWVsKG5vcm1hbGl6ZVdoZWVsKVxuICAgIH1cbiAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vbldoZWVsKSB7XG4gICAgICB0aGlzLnBhZ2Uub25XaGVlbChub3JtYWxpemVXaGVlbClcbiAgICB9XG4gIH1cblxuICBvblRvdWNoRG93bihldmVudCkge1xuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoRG93bikge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaERvd24oZXZlbnQpXG4gICAgfVxuICB9XG4gIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hNb3ZlKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblRvdWNoTW92ZShldmVudClcbiAgICB9XG4gIH1cbiAgb25Ub3VjaFVwKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hVcCkge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaFVwKGV2ZW50KVxuICAgIH1cbiAgfVxuXG4gIC8qIC0tLS0tLS0tLS0tLS1cbiAgIC0tLS0tLS0tLS0tLSBMSVNURU5FUlNcbiAgIC0tLS0tLS0tLS0tLS0tICovXG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5vblBvcFN0YXRlLmJpbmQodGhpcykpXG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIHRoaXMub25XaGVlbC5iaW5kKHRoaXMpKVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Ub3VjaERvd24uYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblRvdWNoTW92ZS5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblRvdWNoVXAuYmluZCh0aGlzKSlcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoVXAuYmluZCh0aGlzKSlcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcykpXG4gIH1cblxuICBhZGRMaW5rTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpXG5cbiAgICBlYWNoKGxpbmtzLCAobGluaykgPT4ge1xuICAgICAgbGluay5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBjb25zdCB7IGhyZWYgfSA9IGxpbmtcblxuICAgICAgICB0aGlzLm9uQ2hhbmdlKHsgdXJsOiBocmVmIH0pXG4gICAgICAgIC8vY29uc29sZS5sb2coZXZlbnQsIGxpbmssIGhyZWYpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKiAtLS0tLS0tLS0tLS0tXG4gICAtLS0tLS0tLS0tLS0gTE9PUCAmIEZSQU1FU1xuICAgLS0tLS0tLS0tLS0tLS0gKi9cblxuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2UudXBkYXRlKSB7XG4gICAgICB0aGlzLnBhZ2UudXBkYXRlKClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudXBkYXRlKSB7XG4gICAgICB0aGlzLmNhbnZhcy51cGRhdGUodGhpcy5wYWdlLnNjcm9sbClcbiAgICB9XG5cbiAgICB0aGlzLmZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKVxuICB9XG59XG5cbm5ldyBBcHAoKVxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiZThjYjAwMjA4OTkxZjk0N2MwN2FcIikiXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJ0aGlzIiwiY3JlYXRlQ29udGVudCIsImNyZWF0ZUNhbnZhcyIsImNyZWF0ZVByZWxvYWRlciIsImNyZWF0ZU5hdmlnYXRpb24iLCJjcmVhdGVQYWdlcyIsIm9uUmVzaXplIiwidXBkYXRlIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJhZGRMaW5rTGlzdGVuZXJzIiwibmF2aWdhdGlvbiIsIk5hdmlnYXRpb24iLCJ0ZW1wbGF0ZSIsInByZWxvYWRlciIsIlByZWxvYWRlciIsImNhbnZhcyIsIm9uY2UiLCJvblByZWxvYWRlZCIsImJpbmQiLCJDYW52YXMiLCJjb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwicGFnZXMiLCJhYm91dCIsIkFib3V0IiwiY29sbGVjdGlvbnMiLCJDb2xsZWN0aW9ucyIsImRldGFpbCIsIkRldGFpbCIsImhvbWUiLCJIb21lIiwicGFnZSIsImNyZWF0ZSIsInNob3ciLCJvblBvcFN0YXRlIiwib25DaGFuZ2UiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiYXN5bmMiLCJ1cmwiLCJwdXNoIiwib25DaGFuZ2VJbml0IiwiaGlkZSIsInJlcXVlc3QiLCJmZXRjaCIsInN0YXR1cyIsImh0bWwiLCJ0ZXh0IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJpbm5lckhUTUwiLCJkaXZDb250ZW50Iiwic2V0QXR0cmlidXRlIiwiY29uc29sZSIsImxvZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIl8iLCJvbldoZWVsIiwiZXZlbnQiLCJub3JtYWxpemVXaGVlbCIsIk5vcm1hbGl6ZVdoZWVsIiwib25Ub3VjaERvd24iLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hVcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsaW5rcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlYWNoIiwibGluayIsIm9uY2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsImhyZWYiLCJzY3JvbGwiLCJmcmFtZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==